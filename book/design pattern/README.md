# Gof 의 디자인 패턴

Gof의 디자인 패턴 책에 대한 중요한 내용 정리

## 1. 서론

- 객체지향 소프트웨어를 설계한가는 것은 쉬운 일이 아니다. 게다가 __재사용 가능한__ 설계를 만드는 것은 더 어렵다.
- 설계는 당장 갖고 있는 문제를 해결할 수 있어야 하며, 나중에 생길 수 있는 문제나 추가된 요구 사항들도 수용할 수 있도록 일반적이고 포괄적이어야 한다.
- 디자인 패턴은 설계 문제를 해결하는데 도움이 되는 재사용 가능한 설계를 제공한다.

### 1.1 디자인 패턴이란?

각 디자인 패턴은 기존 환경내에서 반복적으로 일어나는 문제들을 설명한 후, 그 문제들에 대한 해법의 핵심을 설명해 줍니다.
똑같은 방법으로 두 번 하지 않고 이 해법을 100만 번 이상 재사용할 수 있도록 말이죠

#### 디자인 패턴 구성 요소

- 패턴 이름 : 한두 단어로 설계 문제와 해법을 서술
- 문제 : 언제 패턴을 사용하는가를 서술
- 해법 : 설계를 구성하는 요소들과 그 요소들 간의 관계, 책임, 그리고 협력 관계를 서술한다.
- 결과 : 디자인 패턴을 적용해서 얻는 결과와 장단점을 서술한다.

### 1.5 카탈로그 조직화

패턴을 분류하는 기준은 __목적__, __범위__ 두 가지이다.

#### 목적

패턴은 __생성__, __구조__, __행동__ 중의 한 가지 목적을 가진다.

생성 : 객체의 생성 과정에 관여하는 것
구조 : 클래스나 객체의 합성에 관여하는 것
행동 : 클래스나 객체들이 상호작용하는 방법과 책임을 분산하는 것

#### 범위

__클래스__, __객체__ 두 가지 범위로 나눌 수 있다.

클래스 : 주로 상속에 관련되며, 컴파일 타임에 정적으로 결정이 된다.
객체 : 객체 관련성에 관련되며, 런타임에 동적으로 결정이 된다.

### 1.6 디자인 패턴을 이용하여 문제를 푸는 방법

#### 적당한 객체 찾기

객체는 데이터와 프로시저를 함께 묶은 단위이다. 프로시저를 일반적으로 메서드, 또는 연산이라고 한다.
객체는 요청이나 메시지를 사용자에게 받으면 연산을 수행한다.

요청은 객체가 연산을 실행하는 유일한 방법이고, 연산은 객체의 내부 데이터의 상태를 변경하는 유일한 방법이다.

객체지향 설계의 가장 어려운 부분은 시스템을 구성할 객체의 분할을 결정하는 것이다.

#### 객체의 크기 결정

#### 객체 인터페이스 명세

인터페이스는 객체가 정의하는 연산의 모든 시그니처들을 일컫는 말로 객체의 인터페이스는 객체가 처리할 수 있는 연산의 집합이다.

인터페이스 개념은 객체지향 시스템에서 가장 기본적인 것입니다. 객체는 인터페이스로 자신을 드러냅니다.
외부에서 객체를 알 수 있는 방법은 인터페이스 밖에 없다.

객체에 요청이 전달될 때 동일한 요청이라도 처리하는 객체들이 다른 객체라면, 이 요청에 대해 처리하는 구현이 다르다면 서로 다른 결과가 나올수 있다.
어떤 요청과 그 요청을 처리할 객체를 프로그램 실핼 중 동적으로 연결하는 것을 __동적 바인딩__ 이라고 한다.
동적 바인딩은 프로그램이 동일한 인터페이스를 가지고 있는 다른 객체로 대체가 가능핟. 이런 대치성을 __다형성__ 이라고 한다.

#### 클래스 상속 vs 인터페이스 상속

- 상속은 이미 정의된 객체의 구현을 바탕으로 한다. 인터페이스는 어떤 객체가 다른 객체 대신에 사용될 수 있는지를 정의한다.
- 많은 언어가 이 두 개념을 구분하지 않기 때문에 혼동하기 쉽다.

#### 상속 vs 합성

- 객체지향 시스템에서 기능의 재상요을 위해 가장 널리 사용되는 두 가지 방법은 상속과 합성이다.
- 상속과 합성은 장단점이 있다. 
- 상속은 컴파일 시점에 수행이 되고 부모 클래스의 기능을 쉽게 재사용이 가능하다 하지만, 상속은 부모 클래스와 자식 클래스 사이의 강력한 종속을 만들어 낸다.
- 합성은 런타임 시점에 수행이 된다. 
- 합성은 객체가 다른 객체의 인터페이스만을 바라보게 되기 때문에 인터페이스 정의에 더 많은 주의를 기울여야 한다.
- 객체는 인터페이스에 맞춰 구현되기 때문에 종속성은 확실히 줄어든다.
- 합성은 상속보다 유연한 설계를 만들어 낸다.

#### 위임

- 위임은 객체가 다른 객체에게 처리를 맡기는 것을 의미한다.
- 합성을 상속만큼 강려갛게 만드는 방법이다.
- 단점은 이해하기가 어렵다. 런타임 객체의 상태를 이해해야 하기 때문이다.

#### 툴킷

일반적인 목적의 유용한 기능을 제공하는 클래스 라이브러리를 툴킷이라고 한다.
툴킷은 여러 응용 프로그램에서 유용하게 써야 하기 때문에, 툴킷을 설계하는 일은 응용 프로그램을 설계하는 일보다 더 어렵다.

#### 프레임워크

프레임워크는 응용 프로그램에 대한 뼈대를 제공한다. 즉 프레임워크는 클래스와 객체들의 분할, 전체 구조, 클래스와 객체들 간의 상호작용, 객체와 클래스 조합 방법, 제어 흐름에 대해 미리 정의한다.
